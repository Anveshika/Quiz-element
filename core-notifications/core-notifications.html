<link rel="import" href="../components/polymer/polymer.html">
<link rel="import" href="../questions-service/questions-service.html">
<link rel="import" href="../components/paper-button/paper-button.html">
 <link rel="import" href="../components/paper-ripple/paper-ripple.html">
 <link rel="import" href="../components/core-selector/core-selector.html">
 <link rel="import" href="../components/paper-toast/paper-toast.html">
  <polymer-element name="core-notifications">
  <template>
	<style>    
      :host {
        position: absolute;
        width: 100%;
        height: 100%;
        box-sizing: border-box;
      }
	   .item.core-selected {
			background: #00FF80;
			
	  }
	  .item{
			height: 40px;
line-height: 40px;
padding: 0px 20px;
border-bottom-width: 1px;
border-bottom-style: solid;
border-bottom-color: rgb(204, 204, 204);
}
	 
	  
      #section {
        box-sizing: border-box;
        width: 1000px;
        height: 250px;
        left: 150px;
		 top: 70px;
        position: absolute;
      }
      #div {
        box-sizing: border-box;
        position: relative;
        height: 440px;
        background-color: #A9E2F3;
        padding: 24px;
         font-size: 32px;
      }
       #inline{
	  display: inline;
	  }
	  #paper_fab{
	  margin-left:90%;
	  }
	  #que{
		  height:100px;
	  }
	  #answers{
		 font-size: 32px;
		 background-color:#BCF5A9;
	  }
	  #section {
        box-sizing: border-box;
        position: absolute;
		#fo{
			
		}
      }
	  paper-toast {
  top: 500px;
  left: 700px;
  	font-size:30px;
	color:green;
}
#toast1{
	background-color:green;
	color:white;
	font-size:30px;
	}
#toast2{
	background-color:red;
		color:white;
	font-size:30px;
	}
	</style>
	 <questions-service id="service" questions="{{questions}}">
	</questions-service>
    <section id="section" layout vertical>
	<paper-toast id="toast1" color="green" text="Correct answer" role="status" touch-action="none" tabindex="-1" class="core-transition core-transition-bottom" style="position: fixed; outline: none; display: none;"></paper-toast>
	<paper-toast id="toast2" color="red" text="Wrong answer" role="status" touch-action="none" tabindex="-1" class="core-transition core-transition-bottom" style="position: fixed; outline: none; display: none;"></paper-toast>
			<div id="div" hero>
					<span id="span">Question</span>
					<div id="que">
					
							<blockquote > {{questions[0].question}} </blockquote>
					</div>
		 
					<paper-fab icon="av:play-arrow" id="paper_fab" cross-fade-delayed on-click="{{updateModel}}"></paper-fab>
           </div>
	    
					<section id="section1" hero flex>
						  <div id="answers">
						<span id="span1">Choose Answers</span>
							<br>
							<br>
							<core-selector id="ans"  selectedItem="{{input}}">
									<div class="item">{{questions[0].ch1}}</div>
									
									<div class="item">{{questions[0].ch2}}</div>
									
									<div class="item">{{questions[0].ch3}}</div>
								    
									<div class="item">{{questions[0].ch4}}</div>
							</core-selector>
					</section>
			</div>
    </section>
	<!-- <template repeat="{{newsevent in questions}}">
		<p>
			{{newsevent.title}} &nbsp; &nbsp; {{newsevent.date}}
		</p>
	</template> -->
	  </template>
    <script>
	var i=0;
    Polymer('core-notifications', {
    created: function() {
      this.questions=[];
      // this.alternates=[];
       this.current=0;
	   this.chance=0;
    },

    questionsLoaded: function() {
      // Make a copy of the loaded data
	  	  document.sele.show();
      this.questions = this.$.ajax.response.slice(0);
      console.log("printing questions");
      console.log(this.questions);
    },

    updateModel: function() {
     // alert("error");
      //alert(this.questions.length+"");
	 
    if(i<this.questions.length){
		//alert(this.questions[0].ans+"  "+this.input.innerHTML);
		if((this.input.innerHTML==this.questions[0].ans)){
			//document.getElementsByTagName("paper-toast")[0].style.color="green";
			this.$.toast1.show();
			this.current = (this.current + 1) % this.questions.length;
			// this.$.setTimeout(function(){alert('Hello')},3000);
			//this.current = (this.current + 1) % this.questions.length;
			i++;

		}
		else {
			//document.getElementsByTagName("paper-toast")[1].text="red";
			this.$.toast2.show();
			this.chance=this.chance+1;
			if(this.chance==2)
			{
				this.current = this.current + 1;
				this.chance=0;
			}
		}		
		this.questions[0].question= this.questions[this.current].question;
		this.questions[0].ch1= this.questions[this.current].ch1;
		this.questions[0].ch2= this.questions[this.current].ch2;
		this.questions[0].ch3= this.questions[this.current].ch3;
		this.questions[0].ch4= this.questions[this.current].ch4;
		this.questions[0].ans= this.questions[this.current].ans;
		}
		else {
   console.log("your commit ");
   console.log("sejh"+ans.selectedItem);
	var myVariable = document.getElementById("btn");
	myVariable.text="finish";
	
  }
		}     
  });
    </script>
  </polymer-element>